"use strict";(self.webpackChunkbrige_typescript=self.webpackChunkbrige_typescript||[]).push([[6552],{6552:(e,t,r)=>{r.r(t),r.d(t,{AptosWormholeCore:()=>h});var n=r(600),o=r(1640),a=r(1238),s=r(7605),i=Object.defineProperty,c=(e,t,r)=>((e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class h{constructor(e,t,r,n){c(this,"network"),c(this,"chain"),c(this,"connection"),c(this,"contracts"),c(this,"chainId"),c(this,"coreBridge"),this.network=e,this.chain=t,this.connection=r,this.contracts=n,this.chainId=(0,o.ax)(t);const a=n.coreBridge;if(!a)throw new Error("CoreBridge contract Address for chain ".concat(t," not found"));this.coreBridge=a}getGuardianSet(e){throw new Error("Method not implemented.")}getGuardianSetIndex(){throw new Error("Method not implemented.")}getMessageFee(){throw new Error("Method not implemented.")}static async fromRpc(e,t){const[r,n]=await a.A.chainFromRpc(e),o=t[n];if(o.network!==r)throw new Error("Network mismatch: ".concat(o.network," !== ").concat(r));return new h(r,n,e,o.contracts)}publishMessage(e,t){return(0,n.A)(function*(){throw new Error("Method not implemented.")})()}verifyMessage(e,t){return(0,n.A)(function*(){throw new Error("Not implemented.")})()}async parseTransaction(e){return(await this.parseMessages(e)).map(e=>({chain:e.emitterChain,emitter:e.emitterAddress,sequence:e.sequence}))}async parseMessages(e){const t=await this.connection.getTransactionByHash({transactionHash:e});if("user_transaction"!==t.type)throw new Error("".concat(e," is not a user_transaction"));const r=t.events.filter(e=>e.type.endsWith("WormholeMessage"));if(!r||0===r.length)throw new Error("WormholeMessage not found for ".concat(e));return r.map(e=>{const t=e.data,r=new o.U(BigInt(t.sender).toString(16).padStart(64,"0"));return(0,s.c)("Uint8Array",{guardianSet:0,emitterChain:this.chain,emitterAddress:r,sequence:BigInt(t.sequence),timestamp:Number(t.timestamp),consistencyLevel:t.consistency_level,nonce:Number(t.nonce),signatures:[],payload:o.k.decode(t.payload)})})}}(0,o.aF)("Aptos","WormholeCore",h)},7605:(e,t,r)=>{r.d(t,{c:()=>s});var n=r(9379),o=r(1640);function a(e){return[...o.dB,(0,o.dC)(e)]}function s(e,t){const[r,s]=(0,o.dz)(e),i=(0,o.dA)(a(e),t);return(0,n.A)((0,n.A)((0,n.A)({protocolName:r,payloadName:s,payloadLiteral:e},(0,o.dA)(o.dD,t)),i),{},{hash:(0,o.aw)((0,o.av)(a(e),i))})}}}]);
//# sourceMappingURL=6552.45ce95e8.chunk.js.map