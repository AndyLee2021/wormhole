/*! For license information please see 5339.6a1bc424.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbrige_typescript=self.webpackChunkbrige_typescript||[]).push([[5339],{4100:(e,t,r)=>{r.d(t,{o:()=>s});var n=r(1640),o={exports:{}};!function(e,t){var r,o=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof n.c<"u"&&n.c,i=function(){function e(){this.fetch=!1,this.DOMException=o.DOMException}return e.prototype=o,new e}();r=i,function(e){var t=typeof r<"u"&&r||typeof self<"u"&&self||typeof n.c<"u"&&n.c||{},o="URLSearchParams"in t,i="Symbol"in t&&"iterator"in Symbol,s="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in t,c="ArrayBuffer"in t;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function b(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}}function g(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function y(e){var t=new FileReader,r=g(t);return t.readAsArrayBuffer(e),r}function w(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:o&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&s&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=w(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=w(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=b(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return b(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(s)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e=b(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=g(t),n=/charset=([A-Za-z0-9_-]+)/.exec(e.type),o=n?n[1]:"utf-8";return t.readAsText(e,o),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=f(e),t=h(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},p.prototype.delete=function(e){delete this.map[f(e)]},p.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},p.prototype.set=function(e,t){this.map[f(e)]=h(t)},p.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},p.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),d(e)},p.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),d(e)},p.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),d(e)},i&&(p.prototype[Symbol.iterator]=p.prototype.entries);var m=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function _(e,r){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(r=r||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,r.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!n&&null!=e._bodyInit&&(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=r.credentials||this.credentials||"same-origin",(r.headers||!this.headers)&&(this.headers=new p(r.headers)),this.method=function(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}(r.method||this.method||"GET"),this.mode=r.mode||this.mode||null,this.signal=r.signal||this.signal||function(){if("AbortController"in t)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===r.cache||"no-cache"===r.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function E(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function x(e){var t=new p;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();try{t.append(n,o)}catch(i){console.warn("Response "+i.message)}}}),t}function O(e,t){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},v.call(_.prototype),v.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},O.error=function(){var e=new O(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var S=[301,302,303,307,308];O.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new O(null,{status:t,headers:{location:e}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(I){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function A(r,n){return new Promise(function(o,i){var a=new _(r,n);if(a.signal&&a.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function u(){l.abort()}if(l.onload=function(){var e={statusText:l.statusText,headers:x(l.getAllResponseHeaders()||"")};0===a.url.indexOf("file://")&&(l.status<200||l.status>599)?e.status=200:e.status=l.status,e.url="responseURL"in l?l.responseURL:e.headers.get("X-Request-URL");var t="response"in l?l.response:l.responseText;setTimeout(function(){o(new O(t,e))},0)},l.onerror=function(){setTimeout(function(){i(new TypeError("Network request failed"))},0)},l.ontimeout=function(){setTimeout(function(){i(new TypeError("Network request timed out"))},0)},l.onabort=function(){setTimeout(function(){i(new e.DOMException("Aborted","AbortError"))},0)},l.open(a.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(r){return e}}(a.url),!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&(s?l.responseType="blob":c&&(l.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof p||t.Headers&&n.headers instanceof t.Headers)){var d=[];Object.getOwnPropertyNames(n.headers).forEach(function(e){d.push(f(e)),l.setRequestHeader(e,h(n.headers[e]))}),a.headers.forEach(function(e,t){-1===d.indexOf(t)&&l.setRequestHeader(t,e)})}else a.headers.forEach(function(e,t){l.setRequestHeader(t,e)});a.signal&&(a.signal.addEventListener("abort",u),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",u)}),l.send(typeof a._bodyInit>"u"?null:a._bodyInit)})}A.polyfill=!0,t.fetch||(t.fetch=A,t.Headers=p,t.Request=_,t.Response=O),e.Headers=p,e.Request=_,e.Response=O,e.fetch=A,Object.defineProperty(e,"__esModule",{value:!0})}({}),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=o.fetch?o:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t}(o,o.exports);var i=o.exports;const s=(0,n.g)(i)},5339:(e,t,r)=>{r.d(t,{A:()=>it,B:()=>Fs,C:()=>os,D:()=>Vs,E:()=>ot,F:()=>Ts,G:()=>ia,I:()=>R,O:()=>ke,P:()=>Uo,Q:()=>jo,a:()=>Xo,b:()=>$o,c:()=>a,d:()=>Yo,e:()=>Qo,f:()=>rs,g:()=>ti,h:()=>oi,i:()=>D,j:()=>_e,k:()=>rt,l:()=>Ps,m:()=>Gs,n:()=>Hs,o:()=>Ks,p:()=>Ws,q:()=>Ns,r:()=>z,s:()=>Co,t:()=>ns,u:()=>Ro,v:()=>de,w:()=>he,x:()=>Bs,y:()=>nt,z:()=>js});var n=r(9379),o=r(1703),i=r(1640),s=r(4100),a={},c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)};function u(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function h(e){return this instanceof h?(this.v=e,this):new h(e)}const d=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return l},__asyncDelegator:function(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:h(e[n](t)),done:"return"===n}:o?o(t):t}:o}},__asyncGenerator:function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){o[e]&&(n[e]=function(t){return new Promise(function(r,n){i.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{!function(e){e.value instanceof h?Promise.resolve(e.value.v).then(c,l):u(i[0][2],e)}(o[e](t))}catch(r){u(i[0][3],r)}}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=u(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,o,(t=e[r](t)).done,t.value)})}}},__await:h,__awaiter:function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function a(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){e.done?o(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())})},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r},__createBinding:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},__decorate:function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},__exportStar:function(e,t){for(var r in e)"default"!==r&&!t.hasOwnProperty(r)&&(t[r]=e[r])},__extends:function(e,t){function r(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__generator:function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param:function(e,t){return function(r,n){t(r,n,e)}},__read:f,__rest:function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n},__values:u},Symbol.toStringTag,{value:"Module"})),p=(0,i.a)(d);var b,g={},y={};var w,v={},m={},_={};var E,x,O,S,A={};function I(){return x||(x=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=p;t.__exportStar((w||(w=1,Object.defineProperty(_,"__esModule",{value:!0}),_.ONE_THOUSAND=_.ONE_HUNDRED=void 0,_.ONE_HUNDRED=100,_.ONE_THOUSAND=1e3),_),e),t.__exportStar(function(){return E||(E=1,e=A,Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=5*e.ONE_MINUTE,e.TEN_MINUTES=10*e.ONE_MINUTE,e.THIRTY_MINUTES=30*e.ONE_MINUTE,e.SIXTY_MINUTES=60*e.ONE_MINUTE,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=3*e.ONE_HOUR,e.SIX_HOURS=6*e.ONE_HOUR,e.TWELVE_HOURS=12*e.ONE_HOUR,e.TWENTY_FOUR_HOURS=24*e.ONE_HOUR,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=3*e.ONE_DAY,e.FIVE_DAYS=5*e.ONE_DAY,e.SEVEN_DAYS=7*e.ONE_DAY,e.THIRTY_DAYS=30*e.ONE_DAY,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=2*e.ONE_WEEK,e.THREE_WEEKS=3*e.ONE_WEEK,e.FOUR_WEEKS=4*e.ONE_WEEK,e.ONE_YEAR=365*e.ONE_DAY),A;var e}(),e)}(m)),m}function T(){return S||(S=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=p;t.__exportStar((b||(b=1,Object.defineProperty(y,"__esModule",{value:!0}),y.delay=void 0,y.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}),y),e),t.__exportStar(function(){if(O)return v;O=1,Object.defineProperty(v,"__esModule",{value:!0}),v.fromMiliseconds=v.toMiliseconds=void 0;const e=I();return v.toMiliseconds=function(t){return t*e.ONE_THOUSAND},v.fromMiliseconds=function(t){return Math.floor(t/e.ONE_THOUSAND)},v}(),e)}(g)),g}var B,P={};var N,j,L={},C={};function U(){return j||(j=1,e=L,Object.defineProperty(e,"__esModule",{value:!0}),p.__exportStar((N||(N=1,Object.defineProperty(C,"__esModule",{value:!0}),C.IWatch=void 0,C.IWatch=class{}),C),e)),L;var e}!function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=p;t.__exportStar(T(),e),t.__exportStar(function(){if(B)return P;B=1,Object.defineProperty(P,"__esModule",{value:!0}),P.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error("Watch already started for label: ".concat(e));this.timestamps.set(e,{started:Date.now()})}stop(e){const t=this.get(e);if(typeof t.elapsed<"u")throw new Error("Watch already stopped for label: ".concat(e));const r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){const t=this.timestamps.get(e);if(typeof t>"u")throw new Error("No timestamp found for label: ".concat(e));return t}elapsed(e){const t=this.get(e);return t.elapsed||Date.now()-t.started}}return P.Watch=e,P.default=e,P}(),e),t.__exportStar(U(),e),t.__exportStar(I(),e)}(a);class R{}let M=class extends R{constructor(e){super()}};const k=a.FIVE_SECONDS,z={pulse:"heartbeat_pulse"};let D=class e extends M{constructor(e){super(e),this.events=new o.e.EventEmitter,this.interval=k,this.interval=(null==e?void 0:e.interval)||k}static async init(t){const r=new e(t);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),a.toMiliseconds(this.interval))}pulse(){this.events.emit(z.pulse)}};const H=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,W=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,F=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function V(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t))return t;!function(e){console.warn('[destr] Dropping "'.concat(e,'" key to prevent prototype pollution.'))}(e)}function K(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);const r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!F.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(H.test(e)||W.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,V)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}function q(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(e){return e&&"function"==typeof e.then?e:Promise.resolve(e)}(e(...r))}catch(o){return Promise.reject(o)}}function Y(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return Y(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const G="base64:";function Z(e){return"string"==typeof e?e:G+function(e){return globalThis.Buffer?i.d.Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}(e)}function J(e){return"string"==typeof e&&e.startsWith(G)?function(e){return globalThis.Buffer?i.d.Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),e=>e.codePointAt(0))}(e.slice(7)):e}function X(e){var t;return e&&(null==(t=e.split("?")[0])?void 0:t.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function $(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return X(t.join(":"))}function Q(e){return(e=X(e))?e+":":""}const ee=()=>{const e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem(t){var r;return null!==(r=e.get(t))&&void 0!==r?r:null},getItemRaw(t){var r;return null!==(r=e.get(t))&&void 0!==r?r:null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function te(){const e={mounts:{"":(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).driver||ee()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=t=>{for(const r of e.mountpoints)if(t.startsWith(r))return{base:r,relativeKey:t.slice(r.length),driver:e.mounts[r]};return{base:"",relativeKey:t,driver:e.mounts[""]}},r=(t,r)=>e.mountpoints.filter(e=>e.startsWith(t)||r&&t.startsWith(e)).map(r=>({relativeBase:t.length>r.length?t.slice(r.length):void 0,mountpoint:r,driver:e.mounts[r]})),o=(t,r)=>{if(e.watching){r=X(r);for(const n of e.watchListeners)n(t,r)}},i=async()=>{if(e.watching){for(const t in e.unwatch)await e.unwatch[t]();e.unwatch={},e.watching=!1}},s=(e,r,o)=>{const i=new Map,s=e=>{let t=i.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},i.set(e.base,t)),t};for(const a of e){const e="string"==typeof a,o=X(e?a:a.key),i=e?void 0:a.value,c=e||!a.options?r:(0,n.A)((0,n.A)({},r),a.options),l=t(o);s(l).items.push({key:o,value:i,relativeKey:l.relativeKey,options:c})}return Promise.all([...i.values()].map(e=>o(e))).then(e=>e.flat())},a={hasItem(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=X(e);const{relativeKey:n,driver:o}=t(e);return q(o.hasItem,n,r)},getItem(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=X(e);const{relativeKey:n,driver:o}=t(e);return q(o.getItem,n,r).then(e=>K(e))},getItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(e,t,e=>e.driver.getItems?q(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:$(e.base,t.key),value:K(t.value)}))):Promise.all(e.items.map(t=>q(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:K(e)})))))},getItemRaw(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=X(e);const{relativeKey:n,driver:o}=t(e);return o.getItemRaw?q(o.getItemRaw,n,r):q(o.getItem,n,r).then(e=>J(e))},async setItem(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===r)return a.removeItem(e);e=X(e);const{relativeKey:i,driver:s}=t(e);s.setItem&&(await q(s.setItem,i,Y(r),n),s.watch||o("update",e))},async setItems(e,t){await s(e,t,async e=>{if(e.driver.setItems)return q(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:Y(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>q(e.driver.setItem,t.relativeKey,Y(t.value),t.options)))})},async setItemRaw(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===r)return a.removeItem(e,n);e=X(e);const{relativeKey:i,driver:s}=t(e);if(s.setItemRaw)await q(s.setItemRaw,i,r,n);else{if(!s.setItem)return;await q(s.setItem,i,Z(r),n)}s.watch||o("update",e)},async removeItem(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof r&&(r={removeMeta:r}),e=X(e);const{relativeKey:n,driver:i}=t(e);i.removeItem&&(await q(i.removeItem,n,r),(r.removeMeta||r.removeMata)&&await q(i.removeItem,n+"$",r),i.watch||o("remove",e))},async getMeta(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof r&&(r={nativeOnly:r}),e=X(e);const{relativeKey:n,driver:o}=t(e),i=Object.create(null);if(o.getMeta&&Object.assign(i,await q(o.getMeta,n,r)),!r.nativeOnly){const e=await q(o.getItem,n+"$",r).then(e=>K(e));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(i,e))}return i},setMeta(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.setItem(e+"$",t,r)},removeMeta(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.removeItem(e+"$",t)},async getKeys(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;e=Q(e);const o=r(e,!0);let i=[];const s=[];let a=!0;for(const r of o){null!=(n=r.driver.flags)&&n.maxDepth||(a=!1);const e=await q(r.driver.getKeys,r.relativeBase,t);for(const t of e){const e=r.mountpoint+X(t);i.some(t=>e.startsWith(t))||s.push(e)}i=[r.mountpoint,...i.filter(e=>!e.startsWith(r.mountpoint))]}const c=void 0!==t.maxDepth&&!a;return s.filter(r=>(!c||function(e,t){if(void 0===t)return!0;let r=0,n=e.indexOf(":");for(;n>-1;)r++,n=e.indexOf(":",n+1);return r<=t}(r,t.maxDepth))&&function(e,t){return t?e.startsWith(t)&&"$"!==e[e.length-1]:"$"!==e[e.length-1]}(r,e))},async clear(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Q(e),await Promise.all(r(e,!1).map(async e=>{if(e.driver.clear)return q(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const r=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(r.map(r=>e.driver.removeItem(r,t)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(e=>ne(e)))},watch:async t=>(await(async()=>{if(!e.watching){e.watching=!0;for(const t in e.mounts)e.unwatch[t]=await re(e.mounts[t],o,t)}})(),e.watchListeners.push(t),async()=>{e.watchListeners=e.watchListeners.filter(e=>e!==t),0===e.watchListeners.length&&await i()}),async unwatch(){e.watchListeners=[],await i()},mount(t,r){if((t=Q(t))&&e.mounts[t])throw new Error("already mounted at ".concat(t));return t&&(e.mountpoints.push(t),e.mountpoints.sort((e,t)=>t.length-e.length)),e.mounts[t]=r,e.watching&&Promise.resolve(re(r,o,t)).then(r=>{e.unwatch[t]=r}).catch(console.error),a},async unmount(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n,o;(t=Q(t))&&e.mounts[t]&&(e.watching&&t in e.unwatch&&(null==(o=(n=e.unwatch)[t])||o.call(n),delete e.unwatch[t]),r&&await ne(e.mounts[t]),e.mountpoints=e.mountpoints.filter(e=>e!==t),delete e.mounts[t])},getMount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=X(e)+":";const r=t(e);return{driver:r.driver,base:r.base}},getMounts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=X(e),r(e,t.parents).map(e=>({driver:e.driver,base:e.mountpoint}))},keys:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.getKeys(e,t)},get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.getItem(e,t)},set:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.setItem(e,t,r)},has:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.hasItem(e,t)},del:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.removeItem(e,t)},remove:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.removeItem(e,t)}};return a}function re(e,t,r){return e.watch?e.watch((e,n)=>t(e,r+n)):()=>{}}async function ne(e){"function"==typeof e.dispose&&await q(e.dispose)}function oe(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function ie(e,t){let r;return(n,o)=>(()=>{if(r)return r;const n=indexedDB.open(e);return n.onupgradeneeded=()=>n.result.createObjectStore(t),r=oe(n),r.then(e=>{e.onclose=()=>r=void 0},()=>{}),r})().then(e=>o(e.transaction(t,n).objectStore(t)))}let se;function ae(){return se||(se=ie("keyval-store","keyval")),se}function ce(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae())("readonly",t=>oe(t.get(e)))}function le(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae())("readonly",e=>{if(e.getAllKeys)return oe(e.getAllKeys());const t=[];return function(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},oe(e.transaction)}(e,e=>t.push(e.key)).then(()=>t)})}const ue=e=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"n":t),fe=e=>{const t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,(e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t)};function he(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type ".concat(typeof e));try{return fe(e)}catch(t){return e}}function de(e){return"string"==typeof e?e:ue(e)||""}var pe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.base&&e.base.length>0?"".concat(e.base,":"):"",r=e=>t+e;let n;return e.dbName&&e.storeName&&(n=ie(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await ce(r(e),n)>"u"),async getItem(e){var t;return null!==(t=await ce(r(e),n))&&void 0!==t?t:null},setItem:(e,t)=>function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ae())("readwrite",r=>(r.put(t,e),oe(r.transaction)))}(r(e),t,n),removeItem:e=>function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae())("readwrite",t=>(t.delete(e),oe(t.transaction)))}(r(e),n),getKeys:()=>le(n),clear:()=>function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae())("readwrite",e=>(e.clear(),oe(e.transaction)))}(n)}};let be=class{constructor(){this.indexedDb=te({driver:pe({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,de(t))}async removeItem(e){await this.indexedDb.removeItem(e)}};var ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof i.d.global<"u"?i.d.global:typeof self<"u"?self:{},ye={exports:{}};function we(e){var t;return[e[0],he(null!=(t=e[1])?t:"")]}!function(){let e;function t(){}e=t,e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){const e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof ge<"u"&&ge.localStorage?ye.exports=ge.localStorage:typeof window<"u"&&window.localStorage?ye.exports=window.localStorage:ye.exports=new t}();let ve=class{constructor(){this.localStorage=ye.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(we)}async getItem(e){const t=this.localStorage.getItem(e);if(null!==t)return he(t)}async setItem(e,t){this.localStorage.setItem(e,de(t))}async removeItem(e){this.localStorage.removeItem(e)}};const me=async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})};let _e=class{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const e=new ve;this.storage=e;try{(async(e,t,r)=>{const n="wc_storage_version",o=await t.getItem(n);if(o&&o>=1)return void r(t);const i=await e.getKeys();if(!i.length)return void r(t);const s=[];for(;i.length;){const r=i.shift();if(!r)continue;const n=r.toLowerCase();if(n.includes("wc@")||n.includes("walletconnect")||n.includes("wc_")||n.includes("wallet_connect")){const n=await e.getItem(r);await t.setItem(r,n),s.push(r)}}await t.setItem(n,1),r(t),me(e,s)})(e,new be,this.setInitialized)}catch(t){this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}};function Ee(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}const xe=function(e,t,r){var n=r&&r.stringify||Ee;if("object"==typeof e&&null!==e){var o=t.length+1;if(1===o)return e;var i=new Array(o);i[0]=n(e);for(var s=1;s<o;s++)i[s]=n(t[s]);return i.join(" ")}if("string"!=typeof e)return e;var a=t.length;if(0===a)return e;for(var c="",l=0,u=-1,f=e&&e.length||0,h=0;h<f;){if(37===e.charCodeAt(h)&&h+1<f){switch(u=u>-1?u:0,e.charCodeAt(h+1)){case 100:case 102:if(l>=a||null==t[l])break;u<h&&(c+=e.slice(u,h)),c+=Number(t[l]),u=h+2,h++;break;case 105:if(l>=a||null==t[l])break;u<h&&(c+=e.slice(u,h)),c+=Math.floor(Number(t[l])),u=h+2,h++;break;case 79:case 111:case 106:if(l>=a||void 0===t[l])break;u<h&&(c+=e.slice(u,h));var d=typeof t[l];if("string"===d){c+="'"+t[l]+"'",u=h+2,h++;break}if("function"===d){c+=t[l].name||"<anonymous>",u=h+2,h++;break}c+=n(t[l]),u=h+2,h++;break;case 115:if(l>=a)break;u<h&&(c+=e.slice(u,h)),c+=String(t[l]),u=h+2,h++;break;case 37:u<h&&(c+=e.slice(u,h)),c+="%",u=h+2,h++,l--}++l}++h}return-1===u?e:(u<f&&(c+=e.slice(u)),c)};var Oe=Ie;const Se=function(){function e(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},Ae={mapHttpRequest:Le,mapHttpResponse:Le,wrapRequestSerializer:Ce,wrapResponseSerializer:Ce,wrapErrorSerializer:Ce,req:Le,res:Le,err:function(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const r in e)void 0===t[r]&&(t[r]=e[r]);return t}};function Ie(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!=typeof t.send)throw Error("pino: transmit option must have a send function");const r=e.browser.write||Se;e.browser.write&&(e.browser.asObject=!0);const n=e.serializers||{},o=function(e,t){return Array.isArray(e)?e.filter(function(e){return"!stdSerializers.err"!==e}):!0===e&&Object.keys(t)}(e.browser.serialize,n);let i=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);"function"==typeof r&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),!1===e.enabled&&(e.level="silent");const s=e.level||"info",a=Object.create(r);a.log||(a.log=Ue),Object.defineProperty(a,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(a,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,Te(c,a,"error","log"),Te(c,a,"fatal","error"),Te(c,a,"warn","error"),Te(c,a,"info","log"),Te(c,a,"debug","log"),Te(c,a,"trace","log")}});const c={transmit:t,serialize:o,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:je(e)};return a.levels=Ie.levels,a.level=s,a.setMaxListeners=a.getMaxListeners=a.emit=a.addListener=a.on=a.prependListener=a.once=a.prependOnceListener=a.removeListener=a.removeAllListeners=a.listeners=a.listenerCount=a.eventNames=a.write=a.flush=Ue,a.serializers=n,a._serialize=o,a._stdErrSerialize=i,a.child=function(r,i){if(!r)throw new Error("missing bindings for child Pino");i=i||{},o&&r.serializers&&(i.serializers=r.serializers);const s=i.serializers;if(o&&s){var a=Object.assign({},n,s),c=!0===e.browser.serialize?Object.keys(a):o;delete r.serializers,Be([r],c,a,this._stdErrSerialize)}function l(e){this._childLevel=1+(0|e._childLevel),this.error=Pe(e,r,"error"),this.fatal=Pe(e,r,"fatal"),this.warn=Pe(e,r,"warn"),this.info=Pe(e,r,"info"),this.debug=Pe(e,r,"debug"),this.trace=Pe(e,r,"trace"),a&&(this.serializers=a,this._serialize=c),t&&(this._logEvent=Ne([].concat(e._logEvent.bindings,r)))}return l.prototype=this,new l(this)},t&&(a._logEvent=Ne()),a}function Te(e,t,r,n){const o=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?Ue:o[r]?o[r]:Se[r]||Se[n]||Ue,function(e,t,r){!e.transmit&&t[r]===Ue||(t[r]=function(n){return function(){const o=e.timestamp(),i=new Array(arguments.length),s=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Se?Se:this;for(var a=0;a<i.length;a++)i[a]=arguments[a];if(e.serialize&&!e.asObject&&Be(i,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?n.call(s,function(e,t,r,n){e._serialize&&Be(r,e._serialize,e.serializers,e._stdErrSerialize);const o=r.slice();let i=o[0];const s={};n&&(s.time=n),s.level=Ie.levels.values[t];let a=1+(0|e._childLevel);if(a<1&&(a=1),null!==i&&"object"==typeof i){for(;a--&&"object"==typeof o[0];)Object.assign(s,o.shift());i=o.length?xe(o.shift(),o):void 0}else"string"==typeof i&&(i=xe(o.shift(),o));return void 0!==i&&(s.msg=i),s}(this,r,i,o)):n.apply(s,i),e.transmit){const n=e.transmit.level||t.level,s=Ie.levels.values[n],a=Ie.levels.values[r];if(a<s)return;!function(e,t,r){const n=t.send,o=t.ts,i=t.methodLevel,s=t.methodValue,a=t.val,c=e._logEvent.bindings;Be(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=o,e._logEvent.messages=r.filter(function(e){return-1===c.indexOf(e)}),e._logEvent.level.label=i,e._logEvent.level.value=s,n(i,e._logEvent,a),e._logEvent=Ne(c)}(this,{ts:o,methodLevel:r,methodValue:a,transmitValue:Ie.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},i)}}}(t[r]))}(e,t,r)}function Be(e,t,r,n){for(const o in e)if(n&&e[o]instanceof Error)e[o]=Ie.stdSerializers.err(e[o]);else if("object"==typeof e[o]&&!Array.isArray(e[o]))for(const n in e[o])t&&t.indexOf(n)>-1&&n in r&&(e[o][n]=r[n](e[o][n]))}function Pe(e,t,r){return function(){const n=new Array(1+arguments.length);n[0]=t;for(var o=1;o<n.length;o++)n[o]=arguments[o-1];return e[r].apply(this,n)}}function Ne(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function je(e){return"function"==typeof e.timestamp?e.timestamp:!1===e.timestamp?Re:Me}function Le(){return{}}function Ce(e){return e}function Ue(){}function Re(){return!1}function Me(){return Date.now()}Ie.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},Ie.stdSerializers=Ae,Ie.stdTimeFunctions=Object.assign({},{nullTime:Re,epochTime:Me,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}});const ke=(0,i.g)(Oe),ze={level:"info"},De="custom_context",He=1024e3;let We=class{constructor(e){this.nodeValue=e,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},Fe=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new We(e);if(t.size>this.maxSizeInBytes)throw new Error("[LinkedList] Value too big to insert into list: ".concat(e," with size ").concat(t.size));for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}},Ve=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:He;this.level=null!==e&&void 0!==e?e:"error",this.levelValue=Oe.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new Fe(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===Oe.levels.values.error?console.error(e):t===Oe.levels.values.warn?console.warn(e):t===Oe.levels.values.debug?console.debug(e):t===Oe.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(de({timestamp:(new Date).toISOString(),log:e}));const t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new Fe(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push(de({extraMetadata:e})),new Blob(t,{type:"application/json"})}};class Ke{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:He;this.baseChunkLogger=new Ve(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=t,r.download="walletconnect-logs-".concat((new Date).toISOString(),".txt"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}}class qe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:He;this.baseChunkLogger=new Ve(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var Ye=Object.defineProperty,Ge=Object.defineProperties,Ze=Object.getOwnPropertyDescriptors,Je=Object.getOwnPropertySymbols,Xe=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable,Qe=(e,t,r)=>t in e?Ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,et=(e,t)=>{for(var r in t||(t={}))Xe.call(t,r)&&Qe(e,r,t[r]);if(Je)for(var r of Je(t))$e.call(t,r)&&Qe(e,r,t[r]);return e},tt=(e,t)=>Ge(e,Ze(t));function rt(e){return tt(et({},e),{level:(null==e?void 0:e.level)||ze.level})}function nt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De,r="";return r=typeof e.bindings>"u"?function(e){return e[arguments.length>1&&void 0!==arguments[1]?arguments[1]:De]||""}(e,t):e.bindings().context||"",r}function ot(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:De;const n=function(e,t){const r=nt(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:De);return r.trim()?"".concat(r,"/").concat(t):t}(e,t,r);return function(e,t){return e[arguments.length>2&&void 0!==arguments[2]?arguments[2]:De]=t,e}(e.child({context:n}),n,r)}function it(e){return typeof e.loggerOverride<"u"&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(e){var t,r;const n=new Ke(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:ke(tt(et({},e.opts),{level:"trace",browser:tt(et({},null==(r=e.opts)?void 0:r.browser),{write:e=>n.write(e)})})),chunkLoggerController:n}}(e):function(e){var t;const r=new qe(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:ke(tt(et({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}(e)}function st(e){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(r.length>0&&!r.includes(e.length))throw new Error("Uint8Array expected of length "+r+", got length="+e.length)}function at(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const ct="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,lt=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function ut(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),st(e),e}class ft{clone(){return this._cloneInto()}}function ht(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(ct&&"function"==typeof ct.getRandomValues)return ct.getRandomValues(new Uint8Array(e));if(ct&&"function"==typeof ct.randomBytes)return ct.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}class dt extends ft{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=lt(this.buffer)}update(e){at(this);const{view:t,buffer:r,blockLen:n}=this,o=(e=ut(e)).length;for(let i=0;i<o;){const s=Math.min(n-this.pos,o-i);if(s===n){const t=lt(e);for(;n<=o-i;i+=n)this.process(t,i);continue}r.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){at(this),function(e,t){st(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:o}=this;let{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>n-i&&(this.process(r,0),i=0);for(let u=i;u<n;u++)t[u]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,l=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+l,a,n)})(r,n-8,BigInt(8*this.length),o),this.process(r,0);const s=lt(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)s.setUint32(4*u,l[u],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:o,destroyed:i,pos:s}=this;return e.length=n,e.pos=s,e.finished=o,e.destroyed=i,n%t&&e.buffer.set(r),e}}const pt=BigInt(2**32-1),bt=BigInt(32);function gt(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&pt),l:Number(e>>bt&pt)}:{h:0|Number(e>>bt&pt),l:0|Number(e&pt)}}const yt={fromBig:gt,split:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:i,l:s}=gt(e[o],t);[r[o],n[o]]=[i,s]}return[r,n]},toBig:(e,t)=>BigInt(e>>>0)<<bt|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:function(e,t,r,n){const o=(t>>>0)+(n>>>0);return{h:e+r+(o/2**32|0)|0,l:0|o}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,o)=>t+r+n+o+(e/2**32|0)|0,add5H:(e,t,r,n,o,i)=>t+r+n+o+i+(e/2**32|0)|0,add5L:(e,t,r,n,o)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(o>>>0)},[wt,vt]=yt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),mt=new Uint32Array(80),_t=new Uint32Array(80);class Et extends dt{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:l,Fh:u,Fl:f,Gh:h,Gl:d,Hh:p,Hl:b}=this;return[e,t,r,n,o,i,s,a,c,l,u,f,h,d,p,b]}set(e,t,r,n,o,i,s,a,c,l,u,f,h,d,p,b){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|f,this.Gh=0|h,this.Gl=0|d,this.Hh=0|p,this.Hl=0|b}process(e,t){for(let w=0;w<16;w++,t+=4)mt[w]=e.getUint32(t),_t[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const e=0|mt[w-15],t=0|_t[w-15],r=yt.rotrSH(e,t,1)^yt.rotrSH(e,t,8)^yt.shrSH(e,t,7),n=yt.rotrSL(e,t,1)^yt.rotrSL(e,t,8)^yt.shrSL(e,t,7),o=0|mt[w-2],i=0|_t[w-2],s=yt.rotrSH(o,i,19)^yt.rotrBH(o,i,61)^yt.shrSH(o,i,6),a=yt.rotrSL(o,i,19)^yt.rotrBL(o,i,61)^yt.shrSL(o,i,6),c=yt.add4L(n,a,_t[w-7],_t[w-16]),l=yt.add4H(c,r,s,mt[w-7],mt[w-16]);mt[w]=0|l,_t[w]=0|c}let{Ah:r,Al:n,Bh:o,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:u,El:f,Fh:h,Fl:d,Gh:p,Gl:b,Hh:g,Hl:y}=this;for(let w=0;w<80;w++){const e=yt.rotrSH(u,f,14)^yt.rotrSH(u,f,18)^yt.rotrBH(u,f,41),t=yt.rotrSL(u,f,14)^yt.rotrSL(u,f,18)^yt.rotrBL(u,f,41),v=u&h^~u&p,m=f&d^~f&b,_=yt.add5L(y,t,m,vt[w],_t[w]),E=yt.add5H(_,g,e,v,wt[w],mt[w]),x=0|_,O=yt.rotrSH(r,n,28)^yt.rotrBH(r,n,34)^yt.rotrBH(r,n,39),S=yt.rotrSL(r,n,28)^yt.rotrBL(r,n,34)^yt.rotrBL(r,n,39),A=r&o^r&s^o&s,I=n&i^n&a^i&a;g=0|p,y=0|b,p=0|h,b=0|d,h=0|u,d=0|f,({h:u,l:f}=yt.add(0|c,0|l,0|E,0|x)),c=0|s,l=0|a,s=0|o,a=0|i,o=0|r,i=0|n;const T=yt.add3L(x,S,I);r=yt.add3H(T,E,O,A),n=0|T}({h:r,l:n}=yt.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:o,l:i}=yt.add(0|this.Bh,0|this.Bl,0|o,0|i)),({h:s,l:a}=yt.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:l}=yt.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:f}=yt.add(0|this.Eh,0|this.El,0|u,0|f)),({h:h,l:d}=yt.add(0|this.Fh,0|this.Fl,0|h,0|d)),({h:p,l:b}=yt.add(0|this.Gh,0|this.Gl,0|p,0|b)),({h:g,l:y}=yt.add(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(r,n,o,i,s,a,c,l,u,f,h,d,p,b,g,y)}roundClean(){mt.fill(0),_t.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const xt=function(e){const t=t=>e().update(ut(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}(()=>new Et),Ot=BigInt(0),St=BigInt(1),At=BigInt(2);function It(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Tt(e){if(!It(e))throw new Error("Uint8Array expected")}function Bt(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}const Pt=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Nt(e){Tt(e);let t="";for(let r=0;r<e.length;r++)t+=Pt[e[r]];return t}function jt(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Ot:BigInt("0x"+e)}const Lt=48,Ct=57,Ut=65,Rt=70,Mt=97,kt=102;function zt(e){return e>=Lt&&e<=Ct?e-Lt:e>=Ut&&e<=Rt?e-(Ut-10):e>=Mt&&e<=kt?e-(Mt-10):void 0}function Dt(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let o=0,i=0;o<r;o++,i+=2){const t=zt(e.charCodeAt(i)),r=zt(e.charCodeAt(i+1));if(void 0===t||void 0===r){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[o]=16*t+r}return n}function Ht(e){return Tt(e),jt(Nt(Uint8Array.from(e).reverse()))}function Wt(e,t){return Dt(e.toString(16).padStart(2*t,"0"))}function Ft(e,t){return Wt(e,t).reverse()}function Vt(e,t,r){let n;if("string"==typeof t)try{n=Dt(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else{if(!It(t))throw new Error(e+" must be hex string or Uint8Array");n=Uint8Array.from(t)}const o=n.length;if("number"==typeof r&&o!==r)throw new Error(e+" of length "+r+" expected, got "+o);return n}function Kt(){let e=0;for(let r=0;r<arguments.length;r++){const t=r<0||arguments.length<=r?void 0:arguments[r];Tt(t),e+=t.length}const t=new Uint8Array(e);for(let r=0,n=0;r<arguments.length;r++){const e=r<0||arguments.length<=r?void 0:arguments[r];t.set(e,n),n+=e.length}return t}const qt=e=>"bigint"==typeof e&&Ot<=e;function Yt(e,t,r,n){if(!function(e,t,r){return qt(e)&&qt(t)&&qt(r)&&t<=e&&e<r}(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}const Gt=e=>(At<<BigInt(e-1))-St,Zt={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||It(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Jt(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=(t,r,n)=>{const o=Zt[r];if("function"!=typeof o)throw new Error("invalid validator function");const i=e[t];if((!n||void 0!==i)&&!o(i,e))throw new Error("param "+String(t)+" is invalid. Expected "+r+", got "+i)};for(const[o,i]of Object.entries(t))n(o,i,!1);for(const[o,i]of Object.entries(r))n(o,i,!0);return e}function Xt(e){const t=new WeakMap;return function(r){const n=t.get(r);if(void 0!==n)return n;for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];const a=e(r,...i);return t.set(r,a),a}}const $t=BigInt(0),Qt=BigInt(1),er=BigInt(2),tr=BigInt(3),rr=BigInt(4),nr=BigInt(5),or=BigInt(8);function ir(e,t){const r=e%t;return r>=$t?r:t+r}function sr(e,t,r){if(t<$t)throw new Error("invalid exponent, negatives unsupported");if(r<=$t)throw new Error("invalid modulus");if(r===Qt)return $t;let n=Qt;for(;t>$t;)t&Qt&&(n=n*e%r),e=e*e%r,t>>=Qt;return n}function ar(e,t,r){let n=e;for(;t-- >$t;)n*=n,n%=r;return n}function cr(e,t){if(e===$t)throw new Error("invert: expected non-zero number");if(t<=$t)throw new Error("invert: expected positive modulus, got "+t);let r=ir(e,t),n=t,o=$t,i=Qt;for(;r!==$t;){const e=n%r,t=o-i*(n/r);n=r,r=e,o=i,i=t}if(n!==Qt)throw new Error("invert: does not exist");return ir(o,t)}function lr(e){if(e%rr===tr){const t=(e+Qt)/rr;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%or===nr){const t=(e-nr)/or;return function(e,r){const n=e.mul(r,er),o=e.pow(n,t),i=e.mul(r,o),s=e.mul(e.mul(i,er),o),a=e.mul(i,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Qt)/er;let r,n,o;for(r=e-Qt,n=0;r%er===$t;r/=er,n++);for(o=er;o<e&&sr(o,t,e)!==e-Qt;o++)if(o>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===n){const t=(e+Qt)/rr;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const i=(r+Qt)/er;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=n,c=e.pow(e.mul(e.ONE,o),r),l=e.pow(s,i),u=e.pow(s,r);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(u);t<a&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const r=e.pow(c,Qt<<BigInt(a-t-1));c=e.sqr(r),l=e.mul(l,r),u=e.mul(u,c),a=t}return l}}(e)}const ur=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function fr(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function hr(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=$t)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:o,nByteLength:i}=fr(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:i,MASK:Gt(o),ZERO:$t,ONE:Qt,create:t=>ir(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return $t<=t&&t<e},is0:e=>e===$t,isOdd:e=>(e&Qt)===Qt,neg:t=>ir(-t,e),eql:(e,t)=>e===t,sqr:t=>ir(t*t,e),add:(t,r)=>ir(t+r,e),sub:(t,r)=>ir(t-r,e),mul:(t,r)=>ir(t*r,e),pow:(e,t)=>function(e,t,r){if(r<$t)throw new Error("invalid exponent, negatives unsupported");if(r===$t)return e.ONE;if(r===Qt)return t;let n=e.ONE,o=t;for(;r>$t;)r&Qt&&(n=e.mul(n,o)),o=e.sqr(o),r>>=Qt;return n}(a,e,t),div:(t,r)=>ir(t*cr(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>cr(t,e),sqrt:n.sqrt||(t=>(s||(s=lr(e)),s(a,t))),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce((t,n,o)=>e.is0(n)?t:(r[o]=t,e.mul(t,n)),e.ONE),o=e.inv(n);return t.reduceRight((t,n,o)=>e.is0(n)?t:(r[o]=e.mul(t,r[o]),e.mul(t,n)),o),r}(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?Ft(e,i):Wt(e,i),fromBytes:e=>{if(e.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+e.length);return r?Ht(e):function(e){return jt(Nt(e))}(e)}});return Object.freeze(a)}const dr=BigInt(0),pr=BigInt(1);function br(e,t){const r=t.negate();return e?r:t}function gr(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function yr(e,t){gr(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}const wr=new WeakMap,vr=new WeakMap;function mr(e){return vr.get(e)||1}function _r(e,t,r,n){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)})}(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,i=function(e){let t;for(t=0;e>Ot;e>>=St,t+=1);return t}(BigInt(r.length)),s=i>12?i-3:i>4?i-2:i?2:1,a=(1<<s)-1,c=new Array(a+1).fill(o);let l=o;for(let u=Math.floor((t.BITS-1)/s)*s;u>=0;u-=s){c.fill(o);for(let t=0;t<n.length;t++){const e=n[t],o=Number(e>>BigInt(u)&BigInt(a));c[o]=c[o].add(r[t])}let e=o;for(let t=c.length-1,r=o;t>0;t--)r=r.add(c[t]),e=e.add(r);if(l=l.add(e),0!==u)for(let t=0;t<s;t++)l=l.double()}return l}function Er(e){return function(e){Jt(e,ur.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),Jt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze((0,n.A)((0,n.A)((0,n.A)({},fr(e.n,e.nBitLength)),e),{},{p:e.Fp.ORDER}))}const xr=BigInt(0),Or=BigInt(1),Sr=BigInt(2),Ar=BigInt(8),Ir={zip215:!0};BigInt(0),BigInt(1);const Tr=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Br=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Pr=BigInt(1),Nr=BigInt(2);BigInt(3);const jr=BigInt(5),Lr=BigInt(8);const Cr=hr(Tr,void 0,!0),Ur=function(e){const t=function(e){const t=Er(e);return Jt(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze((0,n.A)({},t))}(e),{Fp:r,n:o,prehash:i,hash:s,randomBytes:a,nByteLength:c,h:l}=t,u=Sr<<BigInt(8*c)-Or,f=r.create,h=hr(t.n,t.nBitLength),d=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch(n){return{isValid:!1,value:xr}}}),p=t.adjustScalarBytes||(e=>e),b=t.domain||((e,t,r)=>{if(Bt("phflag",r),t.length||r)throw new Error("Contexts/pre-hash are not supported");return e});function g(e,t){Yt("coordinate "+e,t,xr,u)}function y(e){if(!(e instanceof m))throw new Error("ExtendedPoint expected")}const w=Xt((e,t)=>{const{ex:n,ey:o,ez:i}=e,s=e.is0();null==t&&(t=s?Ar:r.inv(i));const a=f(n*t),c=f(o*t),l=f(i*t);if(s)return{x:xr,y:Or};if(l!==Or)throw new Error("invZ was invalid");return{x:a,y:c}}),v=Xt(e=>{const{a:r,d:n}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:o,ey:i,ez:s,et:a}=e,c=f(o*o),l=f(i*i),u=f(s*s),h=f(u*u),d=f(c*r);if(f(u*f(d+l))!==f(h+f(n*f(c*l))))throw new Error("bad point: equation left != right (1)");if(f(o*i)!==f(s*a))throw new Error("bad point: equation left != right (2)");return!0});class m{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n,g("x",e),g("y",t),g("z",r),g("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof m)throw new Error("extended point not allowed");const{x:t,y:r}=e||{};return g("x",t),g("y",r),new m(t,r,Or,f(t*r))}static normalizeZ(e){const t=r.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(m.fromAffine)}static msm(e,t){return _r(m,h,e,t)}_setWindowSize(e){x.setWindowSize(this,e)}assertValidity(){v(this)}equals(e){y(e);const{ex:t,ey:r,ez:n}=this,{ex:o,ey:i,ez:s}=e,a=f(t*s),c=f(o*n),l=f(r*s),u=f(i*n);return a===c&&l===u}is0(){return this.equals(m.ZERO)}negate(){return new m(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){const{a:e}=t,{ex:r,ey:n,ez:o}=this,i=f(r*r),s=f(n*n),a=f(Sr*f(o*o)),c=f(e*i),l=r+n,u=f(f(l*l)-i-s),h=c+s,d=h-a,p=c-s,b=f(u*d),g=f(h*p),y=f(u*p),w=f(d*h);return new m(b,g,w,y)}add(e){y(e);const{a:r,d:n}=t,{ex:o,ey:i,ez:s,et:a}=this,{ex:c,ey:l,ez:u,et:h}=e;if(r===BigInt(-1)){const e=f((i-o)*(l+c)),t=f((i+o)*(l-c)),r=f(t-e);if(r===xr)return this.double();const n=f(s*Sr*h),d=f(a*Sr*u),p=d+n,b=t+e,g=d-n,y=f(p*r),w=f(b*g),v=f(p*g),_=f(r*b);return new m(y,w,_,v)}const d=f(o*c),p=f(i*l),b=f(a*n*h),g=f(s*u),w=f((o+i)*(c+l)-d-p),v=g-b,_=g+b,E=f(p-r*d),x=f(w*v),O=f(_*E),S=f(w*E),A=f(v*_);return new m(x,O,A,S)}subtract(e){return this.add(e.negate())}wNAF(e){return x.wNAFCached(this,e,m.normalizeZ)}multiply(e){const t=e;Yt("scalar",t,Or,o);const{p:r,f:n}=this.wNAF(t);return m.normalizeZ([r,n])[0]}multiplyUnsafe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.ZERO;const r=e;return Yt("scalar",r,xr,o),r===xr?E:this.is0()||r===Or?this:x.wNAFCachedUnsafe(this,r,m.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return x.unsafeLadder(this,o).is0()}toAffine(e){return w(this,e)}clearCofactor(){const{h:e}=t;return e===Or?this:this.multiplyUnsafe(e)}static fromHex(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{d:o,a:i}=t,s=r.BYTES;e=Vt("pointHex",e,s),Bt("zip215",n);const a=e.slice(),c=e[s-1];a[s-1]=-129&c;const l=Ht(a),h=n?u:r.ORDER;Yt("pointHex.y",l,xr,h);const p=f(l*l),b=f(p-Or),g=f(o*p-i);let{isValid:y,value:w}=d(b,g);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const v=(w&Or)===Or,_=0!==(128&c);if(!n&&w===xr&&_)throw new Error("Point.fromHex: x=0 and x_0=1");return _!==v&&(w=f(-w)),m.fromAffine({x:w,y:l})}static fromPrivateKey(e){return A(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=Ft(t,r.BYTES);return n[n.length-1]|=e&Or?128:0,n}toHex(){return Nt(this.toRawBytes())}}m.BASE=new m(t.Gx,t.Gy,Or,f(t.Gx*t.Gy)),m.ZERO=new m(xr,Or,Or,xr);const{BASE:_,ZERO:E}=m,x=function(e,t){return{constTimeNegate:br,hasPrecomputes:e=>1!==mr(e),unsafeLadder(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,o=t;for(;r>dr;)r&pr&&(n=n.add(o)),o=o.double(),r>>=pr;return n},precomputeWindow(e,r){const{windows:n,windowSize:o}=yr(r,t),i=[];let s=e,a=s;for(let t=0;t<n;t++){a=s,i.push(a);for(let e=1;e<o;e++)a=a.add(s),i.push(a);s=a.double()}return i},wNAF(r,n,o){const{windows:i,windowSize:s}=yr(r,t);let a=e.ZERO,c=e.BASE;const l=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let e=0;e<i;e++){const t=e*s;let r=Number(o&l);o>>=f,r>s&&(r-=u,o+=pr);const i=t,h=t+Math.abs(r)-1,d=e%2!==0,p=r<0;0===r?c=c.add(br(d,n[i])):a=a.add(br(p,n[h]))}return{p:a,f:c}},wNAFUnsafe(r,n,o){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO;const{windows:s,windowSize:a}=yr(r,t),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let e=0;e<s;e++){const t=e*a;if(o===dr)break;let r=Number(o&c);if(o>>=u,r>a&&(r-=l,o+=pr),0===r)continue;let s=n[t+Math.abs(r)-1];r<0&&(s=s.negate()),i=i.add(s)}return i},getPrecomputes(e,t,r){let n=wr.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&wr.set(t,r(n))),n},wNAFCached(e,t,r){const n=mr(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){const o=mr(e);return 1===o?this.unsafeLadder(e,t,n):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),t,n)},setWindowSize(e,r){gr(r,t),vr.set(e,r),wr.delete(e)}}}(m,8*c);function O(e){return ir(e,o)}function S(e){return O(Ht(e))}function A(e){const t=r.BYTES;e=Vt("private key",e,t);const n=Vt("hashed private key",s(e),2*t),o=p(n.slice(0,t)),i=n.slice(t,2*t),a=S(o),c=_.multiply(a),l=c.toRawBytes();return{head:o,prefix:i,scalar:a,point:c,pointBytes:l}}function I(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const o=Kt(...r);return S(s(b(o,Vt("context",e),!!i)))}const T=Ir;return _._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return A(e).pointBytes},sign:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=Vt("message",e),i&&(e=i(e));const{prefix:s,scalar:a,pointBytes:c}=A(t),l=I(n.context,s,e),u=_.multiply(l).toRawBytes(),f=O(l+I(n.context,u,c,e)*a);return Yt("signature.s",f,xr,o),Vt("result",Kt(u,Ft(f,r.BYTES)),2*r.BYTES)},verify:function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T;const{context:s,zip215:a}=o,c=r.BYTES;e=Vt("signature",e,2*c),t=Vt("message",t),n=Vt("publicKey",n,c),void 0!==a&&Bt("zip215",a),i&&(t=i(t));const l=Ht(e.slice(c,2*c));let u,f,h;try{u=m.fromHex(n,a),f=m.fromHex(e.slice(0,c),a),h=_.multiplyUnsafe(l)}catch(p){return!1}if(!a&&u.isSmallOrder())return!1;const d=I(s,f.toRawBytes(),u.toRawBytes(),t);return f.add(u.multiplyUnsafe(d)).subtract(h).clearCofactor().equals(m.ZERO)},ExtendedPoint:m,utils:{getExtendedPublicKey:A,randomPrivateKey:()=>a(r.BYTES),precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}}}}({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Cr,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Lr,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:xt,randomBytes:ht,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:function(e,t){const r=Tr,n=ir(t*t*t,r),o=function(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),o=BigInt(80),i=Tr,s=e*e%i*e%i,a=ar(s,Nr,i)*s%i,c=ar(a,Pr,i)*e%i,l=ar(c,jr,i)*c%i,u=ar(l,t,i)*l%i,f=ar(u,r,i)*u%i,h=ar(f,n,i)*f%i,d=ar(h,o,i)*h%i,p=ar(d,o,i)*h%i,b=ar(p,t,i)*l%i;return{pow_p_5_8:ar(b,Nr,i)*e%i,b2:s}}(e*ir(n*n*t,r)).pow_p_5_8;let i=ir(e*n*o,r);const s=ir(t*i*i,r),a=i,c=ir(i*Br,r),l=s===e,u=s===ir(-e,r),f=s===ir(-e*Br,r);return l&&(i=a),(u||f)&&(i=c),((e,t)=>(ir(e,t)&Qt)===Qt)(i,r)&&(i=ir(-i,r)),{isValid:l||u,value:i}}}),Rr="EdDSA",Mr="JWT",kr=".",zr="base64url",Dr="utf8",Hr="utf8",Wr=":",Fr="did",Vr="key",Kr="base58btc",qr="z",Yr="K36",Gr=32;function Zr(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Zr(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Xr(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const r=Jr(t);let n=0;for(const o of e)r.set(o,n),n+=o.length;return Zr(r)}var $r=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==r[s])throw new TypeError(i+" is ambiguous");r[s]=o}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,o=0;e[t]===c;)n++,t++;for(var i=(e.length-t)*l+1>>>0,s=new Uint8Array(i);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var f=0,h=i-1;(0!==u||f<o)&&-1!==h;h--,f++)u+=a*s[h]>>>0,s[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var d=i-o;d!==i&&0===s[d];)d++;for(var p=new Uint8Array(n+(i-d)),b=n;d!==i;)p[b++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,o=0,i=t.length;o!==i&&0===t[o];)o++,r++;for(var s=(i-o)*u+1>>>0,l=new Uint8Array(s);o!==i;){for(var f=t[o],h=0,d=s-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*l[d]>>>0,l[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");n=h,o++}for(var p=s-n;p!==s&&0===l[p];)p++;for(var b=c.repeat(r);p<s;++p)b+=e.charAt(l[p]);return b},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}};const Qr=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class en{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class tn{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return nn(this,e)}}class rn{constructor(e){this.decoders=e}or(e){return nn(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const nn=(e,t)=>new rn((0,n.A)((0,n.A)({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class on{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new en(e,t,r),this.decoder=new tn(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const sn=e=>{let{name:t,prefix:r,encode:n,decode:o}=e;return new on(t,r,n,o)},an=e=>{let{prefix:t,name:r,alphabet:n}=e;const{encode:o,decode:i}=$r(n,r);return sn({prefix:t,name:r,encode:o,decode:e=>Qr(i(e))})},cn=e=>{let{name:t,prefix:r,bitsPerChar:n,alphabet:o}=e;return sn({prefix:r,name:t,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],o=(1<<r)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>r;)s-=r,i+=t[o&a>>s];if(s&&(i+=t[o&a<<r-s]),n)for(;i.length*r&7;)i+="=";return i})(e,o,n),decode:e=>((e,t,r,n)=>{const o={};for(let u=0;u<t.length;++u)o[t[u]]=u;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*r/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const t=o[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(n," character"));c=c<<r|t,a+=r,a>=8&&(a-=8,s[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(e,o,n,t)})},ln=sn({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var un=Object.freeze({__proto__:null,identity:ln});const fn=cn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var hn=Object.freeze({__proto__:null,base2:fn});const dn=cn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var pn=Object.freeze({__proto__:null,base8:dn});const bn=an({prefix:"9",name:"base10",alphabet:"0123456789"});var gn=Object.freeze({__proto__:null,base10:bn});const yn=cn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),wn=cn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var vn=Object.freeze({__proto__:null,base16:yn,base16upper:wn});const mn=cn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_n=cn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),En=cn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),xn=cn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),On=cn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Sn=cn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),An=cn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),In=cn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Tn=cn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Bn=Object.freeze({__proto__:null,base32:mn,base32upper:_n,base32pad:En,base32padupper:xn,base32hex:On,base32hexupper:Sn,base32hexpad:An,base32hexpadupper:In,base32z:Tn});const Pn=an({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Nn=an({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var jn=Object.freeze({__proto__:null,base36:Pn,base36upper:Nn});const Ln=an({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Cn=an({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Un=Object.freeze({__proto__:null,base58btc:Ln,base58flickr:Cn});const Rn=cn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Mn=cn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),kn=cn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),zn=cn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Dn=Object.freeze({__proto__:null,base64:Rn,base64pad:Mn,base64url:kn,base64urlpad:zn});const Hn=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),Wn=Hn.reduce((e,t,r)=>(e[r]=t,e),[]),Fn=Hn.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);const Vn=sn({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=Wn[t],"")},decode:function(e){const t=[];for(const r of e){const e=Fn[r.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(r));t.push(e)}return new Uint8Array(t)}});var Kn=Object.freeze({__proto__:null,base256emoji:Vn}),qn=function e(t,r,n){r=r||[];for(var o=n=n||0;t>=Zn;)r[n++]=255&t|Yn,t/=128;for(;t&Gn;)r[n++]=255&t|Yn,t>>>=7;return r[n]=0|t,e.bytes=n-o+1,r},Yn=128,Gn=-128,Zn=Math.pow(2,31);var Jn=function e(t,r){var n,o=0,i=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],o+=i<28?(n&$n)<<i:(n&$n)*Math.pow(2,i),i+=7}while(n>=Xn);return e.bytes=s-r,o},Xn=128,$n=127;var Qn=Math.pow(2,7),eo=Math.pow(2,14),to=Math.pow(2,21),ro=Math.pow(2,28),no=Math.pow(2,35),oo=Math.pow(2,42),io=Math.pow(2,49),so=Math.pow(2,56),ao=Math.pow(2,63),co={encode:qn,decode:Jn,encodingLength:function(e){return e<Qn?1:e<eo?2:e<to?3:e<ro?4:e<no?5:e<oo?6:e<io?7:e<so?8:e<ao?9:10}};const lo=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return co.encode(e,t,r),t},uo=e=>co.encodingLength(e),fo=(e,t)=>{const r=t.byteLength,n=uo(e),o=n+uo(r),i=new Uint8Array(o+r);return lo(e,i,0),lo(r,i,n),i.set(t,o),new ho(e,r,t,i)};class ho{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const po=e=>{let{name:t,code:r,encode:n}=e;return new bo(t,r,n)};class bo{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?fo(this.code,t):t.then(e=>fo(this.code,e))}throw Error("Unknown type, must be binary type")}}const go=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),yo=po({name:"sha2-256",code:18,encode:go("SHA-256")}),wo=po({name:"sha2-512",code:19,encode:go("SHA-512")});var vo=Object.freeze({__proto__:null,sha256:yo,sha512:wo});const mo=Qr,_o={code:0,name:"identity",encode:mo,digest:e=>fo(0,mo(e))};var Eo=Object.freeze({__proto__:null,identity:_o});new TextEncoder,new TextDecoder;const xo=(0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)({},un),hn),pn),gn),vn),Bn),jn),Un),Dn),Kn);function Oo(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}(0,n.A)((0,n.A)({},vo),Eo);const So=Oo("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),Ao=Oo("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{const t=Jr((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),Io=(0,n.A)({utf8:So,"utf-8":So,hex:xo.base16,latin1:Ao,ascii:Ao,binary:Ao},xo);function To(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const r=Io[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}function Bo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const r=Io[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode("".concat(r.prefix).concat(e)):Zr(globalThis.Buffer.from(e,"utf-8"))}function Po(e){return he(To(Bo(e,zr),Dr))}function No(e){return To(Bo(de(e),Dr),zr)}function jo(e){const t=Bo(Yr,Kr),r=qr+To(Xr([t,e]),Kr);return[Fr,Vr,r].join(Wr)}function Lo(e){return To(e,zr)}function Co(e){const t=e.split(kr),r=Po(t[0]),n=Po(t[1]),o=function(e){return Bo(e,zr)}(t[2]);return{header:r,payload:n,signature:o,data:Bo(t.slice(0,2).join(kr),Hr)}}function Uo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht(Gr);const t=Ur.getPublicKey(e);return{secretKey:Xr([e,t]),publicKey:t}}async function Ro(e,t,r,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.fromMiliseconds(Date.now());const i={alg:Rr,typ:Mr},s={iss:jo(n.publicKey),sub:e,aud:t,iat:o,exp:o+r},c=function(e){return Bo([No(e.header),No(e.payload)].join(kr),Hr)}({header:i,payload:s});return function(e){return[No(e.header),No(e.payload),Lo(e.signature)].join(kr)}({header:i,payload:s,signature:Ur.sign(c,n.secretKey.slice(0,32))})}var Mo=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)(n||!(o in t))&&(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},ko=function(){return function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"}}(),zo=function(){return function(e){this.version=e,this.type="node",this.name="node",this.os=i.d.process.platform}}(),Do=function(){return function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"}}(),Ho=function(){return function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}}(),Wo=function(){return function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}}(),Fo=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Vo=3,Ko=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],qo=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Yo(e){return typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product?new Wo:typeof navigator<"u"?function(e){var t=function(e){return""!==e&&Ko.reduce(function(t,r){var n=r[0],o=r[1];if(t)return t;var i=o.exec(e);return!!i&&[n,i]},!1)}(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new Ho;var o=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);o?o.length<Vo&&(o=Mo(Mo([],o,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(Vo-o.length),!0)):o=[];var i=o.join("."),s=function(e){for(var t=0,r=qo.length;t<r;t++){var n=qo[t],o=n[0];if(n[1].exec(e))return o}return null}(e),a=Fo.exec(e);return a&&a[1]?new Do(r,i,s,a[1]):new ko(r,i,s)}(navigator.userAgent):function(){var e=typeof i.d.process<"u"&&i.d.process.version;return e?new zo(i.d.process.version.slice(1)):null}()}var Go={};function Zo(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}function Jo(e){const t=Zo(e);if(!t)throw new Error("".concat(e," is not defined in Window"));return t}Object.defineProperty(Go,"__esModule",{value:!0}),Go.getLocalStorage=Go.getLocalStorageOrThrow=Go.getCrypto=Go.getCryptoOrThrow=Qo=Go.getLocation=Go.getLocationOrThrow=$o=Go.getNavigator=Go.getNavigatorOrThrow=Xo=Go.getDocument=Go.getDocumentOrThrow=Go.getFromWindowOrThrow=Go.getFromWindow=void 0,Go.getFromWindow=Zo,Go.getFromWindowOrThrow=Jo,Go.getDocumentOrThrow=function(){return Jo("document")};var Xo=Go.getDocument=function(){return Zo("document")};Go.getNavigatorOrThrow=function(){return Jo("navigator")};var $o=Go.getNavigator=function(){return Zo("navigator")};Go.getLocationOrThrow=function(){return Jo("location")};var Qo=Go.getLocation=function(){return Zo("location")};Go.getCryptoOrThrow=function(){return Jo("crypto")},Go.getCrypto=function(){return Zo("crypto")},Go.getLocalStorageOrThrow=function(){return Jo("localStorage")},Go.getLocalStorage=function(){return Zo("localStorage")};var ei={};Object.defineProperty(ei,"__esModule",{value:!0});var ti=ei.getWindowMetadata=void 0;const ri=Go;function ni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function oi(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const r=ni(t);let n=0;for(const o of e)r.set(o,n),n+=o.length;return r}ti=ei.getWindowMetadata=function(){let e,t;try{e=ri.getDocumentOrThrow(),t=ri.getLocationOrThrow()}catch(o){return null}function r(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];const o=e.getElementsByTagName("meta");for(let e=0;e<o.length;e++){const t=o[e],n=["itemprop","property","name"].map(e=>t.getAttribute(e)).filter(e=>!!e&&r.includes(e));if(n.length&&n){const e=t.getAttribute("content");if(e)return e}}return""}const n=function(){let t=r("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:r("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const r=e.getElementsByTagName("link"),n=[];for(let e=0;e<r.length;e++){const o=r[e],i=o.getAttribute("rel");if(i&&i.toLowerCase().indexOf("icon")>-1){const e=o.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{const n=t.pathname.split("/");n.pop();r+=n.join("/")+"/"+e}n.push(r)}else if(0===e.indexOf("//")){const r=t.protocol+e;n.push(r)}else n.push(e)}}return n}(),name:n}};var ii=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==r[s])throw new TypeError(i+" is ambiguous");r[s]=o}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,o=0;e[t]===c;)n++,t++;for(var i=(e.length-t)*l+1>>>0,s=new Uint8Array(i);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var f=0,h=i-1;(0!==u||f<o)&&-1!==h;h--,f++)u+=a*s[h]>>>0,s[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var d=i-o;d!==i&&0===s[d];)d++;for(var p=new Uint8Array(n+(i-d)),b=n;d!==i;)p[b++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,o=0,i=t.length;o!==i&&0===t[o];)o++,r++;for(var s=(i-o)*u+1>>>0,l=new Uint8Array(s);o!==i;){for(var f=t[o],h=0,d=s-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*l[d]>>>0,l[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");n=h,o++}for(var p=s-n;p!==s&&0===l[p];)p++;for(var b=c.repeat(r);p<s;++p)b+=e.charAt(l[p]);return b},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}};class si{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class ai{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return li(this,e)}}class ci{constructor(e){this.decoders=e}or(e){return li(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const li=(e,t)=>new ci((0,n.A)((0,n.A)({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class ui{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new si(e,t,r),this.decoder=new ai(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const fi=e=>{let{name:t,prefix:r,encode:n,decode:o}=e;return new ui(t,r,n,o)},hi=e=>{let{prefix:t,name:r,alphabet:n}=e;const{encode:o,decode:i}=ii(n,r);return fi({prefix:t,name:r,encode:o,decode:e=>(e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")})(i(e))})},di=e=>{let{name:t,prefix:r,bitsPerChar:n,alphabet:o}=e;return fi({prefix:r,name:t,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],o=(1<<r)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>r;)s-=r,i+=t[o&a>>s];if(s&&(i+=t[o&a<<r-s]),n)for(;i.length*r&7;)i+="=";return i})(e,o,n),decode:e=>((e,t,r,n)=>{const o={};for(let u=0;u<t.length;++u)o[t[u]]=u;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*r/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const t=o[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(n," character"));c=c<<r|t,a+=r,a>=8&&(a-=8,s[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(e,o,n,t)})},pi=fi({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)}),bi=Object.freeze(Object.defineProperty({__proto__:null,identity:pi},Symbol.toStringTag,{value:"Module"})),gi=di({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),yi=Object.freeze(Object.defineProperty({__proto__:null,base2:gi},Symbol.toStringTag,{value:"Module"})),wi=di({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),vi=Object.freeze(Object.defineProperty({__proto__:null,base8:wi},Symbol.toStringTag,{value:"Module"})),mi=hi({prefix:"9",name:"base10",alphabet:"0123456789"}),_i=Object.freeze(Object.defineProperty({__proto__:null,base10:mi},Symbol.toStringTag,{value:"Module"})),Ei=di({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),xi=di({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Oi=Object.freeze(Object.defineProperty({__proto__:null,base16:Ei,base16upper:xi},Symbol.toStringTag,{value:"Module"})),Si=di({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ai=di({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ii=di({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ti=di({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Bi=di({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Pi=di({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ni=di({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ji=di({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Li=di({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Ci=Object.freeze(Object.defineProperty({__proto__:null,base32:Si,base32hex:Bi,base32hexpad:Ni,base32hexpadupper:ji,base32hexupper:Pi,base32pad:Ii,base32padupper:Ti,base32upper:Ai,base32z:Li},Symbol.toStringTag,{value:"Module"})),Ui=hi({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ri=hi({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Mi=Object.freeze(Object.defineProperty({__proto__:null,base36:Ui,base36upper:Ri},Symbol.toStringTag,{value:"Module"})),ki=hi({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),zi=hi({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Di=Object.freeze(Object.defineProperty({__proto__:null,base58btc:ki,base58flickr:zi},Symbol.toStringTag,{value:"Module"})),Hi=di({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Wi=di({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Fi=di({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Vi=di({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Ki=Object.freeze(Object.defineProperty({__proto__:null,base64:Hi,base64pad:Wi,base64url:Fi,base64urlpad:Vi},Symbol.toStringTag,{value:"Module"})),qi=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),Yi=qi.reduce((e,t,r)=>(e[r]=t,e),[]),Gi=qi.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);const Zi=fi({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=Yi[t],"")},decode:function(e){const t=[];for(const r of e){const e=Gi[r.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(r));t.push(e)}return new Uint8Array(t)}}),Ji=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Zi},Symbol.toStringTag,{value:"Module"}));new TextEncoder,new TextDecoder;const Xi=(0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)({},bi),yi),vi),_i),Oi),Ci),Mi),Di),Ki),Ji);function $i(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const Qi=$i("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),es=$i("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{const t=ni((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),ts=(0,n.A)({utf8:Qi,"utf-8":Qi,hex:Xi.base16,latin1:es,ascii:es,binary:es},Xi);function rs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const r=ts[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode("".concat(r.prefix).concat(e)):globalThis.Buffer.from(e,"utf8")}function ns(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const r=ts[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}const os={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},is="PARSE_ERROR",ss="INVALID_REQUEST",as="METHOD_NOT_FOUND",cs="INVALID_PARAMS",ls="INTERNAL_ERROR",us="SERVER_ERROR",fs=[-32700,-32600,-32601,-32602,-32603],hs={[is]:{code:-32700,message:"Parse error"},[ss]:{code:-32600,message:"Invalid Request"},[as]:{code:-32601,message:"Method not found"},[cs]:{code:-32602,message:"Invalid params"},[ls]:{code:-32603,message:"Internal error"},[us]:{code:-32e3,message:"Server error"}},ds=us;function ps(e){return Object.keys(hs).includes(e)?hs[e]:hs[ds]}function bs(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error("Unavailable ".concat(r," RPC url at ").concat(t)):e}var gs={},ys=function(e,t){return(ys=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var ws=function(){return ws=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ws.apply(this,arguments)};function vs(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ms(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function _s(e){return this instanceof _s?(this.v=e,this):new _s(e)}const Es=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return ws},__asyncDelegator:function(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:_s(e[n](t)),done:"return"===n}:o?o(t):t}:o}},__asyncGenerator:function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){o[e]&&(n[e]=function(t){return new Promise(function(r,n){i.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{!function(e){e.value instanceof _s?Promise.resolve(e.value.v).then(c,l):u(i[0][2],e)}(o[e](t))}catch(r){u(i[0][3],r)}}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=vs(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,o,(t=e[r](t)).done,t.value)})}}},__await:_s,__awaiter:function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function a(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){e.done?o(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())})},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r},__createBinding:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},__decorate:function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},__exportStar:function(e,t){for(var r in e)"default"!==r&&!t.hasOwnProperty(r)&&(t[r]=e[r])},__extends:function(e,t){function r(){this.constructor=e}ys(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__generator:function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param:function(e,t){return function(r,n){t(r,n,e)}},__read:ms,__rest:function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ms(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n},__values:vs},Symbol.toStringTag,{value:"Module"})),xs=(0,i.a)(Es);var Os,Ss={};var As,Is={};function Ts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function Bs(){return BigInt(Ts(arguments.length>0&&void 0!==arguments[0]?arguments[0]:6))}function Ps(e,t,r){return{id:r||Ts(),jsonrpc:"2.0",method:e,params:t}}function Ns(e,t){return{id:e,jsonrpc:"2.0",result:t}}function js(e,t,r){return{id:e,jsonrpc:"2.0",error:Ls(t)}}function Ls(e,t){return typeof e>"u"?ps(ls):("string"==typeof e&&(e=Object.assign(Object.assign({},ps(us)),{message:e})),function(e){return fs.includes(e)}(e.code)&&(e=function(e){return Object.values(hs).find(t=>t.code===e)||hs[ds]}(e.code)),e)}!function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=xs;t.__exportStar(function(){if(Os)return Ss;function e(){return(null===i.c||void 0===i.c?void 0:i.c.crypto)||(null===i.c||void 0===i.c?void 0:i.c.msCrypto)||{}}function t(){const t=e();return t.subtle||t.webkitSubtle}return Os=1,Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.isBrowserCryptoAvailable=Ss.getSubtleCrypto=Ss.getBrowerCrypto=void 0,Ss.getBrowerCrypto=e,Ss.getSubtleCrypto=t,Ss.isBrowserCryptoAvailable=function(){return!!e()&&!!t()},Ss}(),e),t.__exportStar(function(){if(As)return Is;function e(){return typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product}function t(){return typeof i.d.process<"u"&&typeof i.d.process.versions<"u"&&typeof i.d.process.versions.node<"u"}return As=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.isBrowser=Is.isNode=Is.isReactNative=void 0,Is.isReactNative=e,Is.isNode=t,Is.isBrowser=function(){return!e()&&!t()},Is}(),e)}(gs);class Cs{}class Us extends Cs{constructor(){super()}}class Rs extends Us{constructor(e){super()}}function Ms(e,t){const r=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return!(typeof r>"u")&&new RegExp(t).test(r)}function ks(e){return Ms(e,"^https?:")}function zs(e){return Ms(e,"^wss?:")}function Ds(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function Hs(e){return Ds(e)&&"method"in e}function Ws(e){return Ds(e)&&(Fs(e)||Vs(e))}function Fs(e){return"result"in e}function Vs(e){return"error"in e}class Ks extends Rs{constructor(e){super(e),this.events=new o.e.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(Ps(e.method,e.params||[],e.id||Bs().toString()),t)}async requestStrict(e,t){return new Promise(async(r,n)=>{if(!this.connection.connected)try{await this.open()}catch(o){n(o)}this.events.on("".concat(e.id),e=>{Vs(e)?n(e.error):r(e.result)});try{await this.connection.send(e,t)}catch(o){n(o)}})}setConnection(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection}onPayload(e){this.events.emit("payload",e),Ws(e)?this.events.emit("".concat(e.id),e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error("WebSocket connection closed abnormally with code: ".concat(e.code," ").concat(e.reason?"(".concat(e.reason,")"):""))),this.events.emit("disconnect")}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const qs=e=>e.split("?")[0],Ys=typeof WebSocket<"u"?WebSocket:typeof i.d.global<"u"&&typeof i.d.global.WebSocket<"u"?i.d.global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws");let Gs=class{constructor(e){if(this.url=e,this.events=new o.e.EventEmitter,this.registering=!1,!zs(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;await this.register(e)}async close(){return new Promise((e,t)=>{typeof this.socket>"u"?t(new Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(de(e))}catch(t){this.onError(e.id,t)}}register(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!zs(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(new Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{const n=gs.isReactNative()?void 0:{rejectUnauthorized:(s=e,!new RegExp("wss?://localhost(:d{2,5})?").test(s))},o=new Ys(e,[],n);var s;typeof WebSocket<"u"||typeof i.d.global<"u"&&typeof i.d.global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?o.onerror=e=>{const t=e;r(this.emitError(t.error))}:o.on("error",e=>{r(this.emitError(e))}),o.onopen=()=>{this.onOpen(o),t(o)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?he(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const r=this.parseError(t),n=js(e,r.message||r.toString());this.events.emit("payload",n)}parseError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return bs(e,qs(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error((null==e?void 0:e.message)||"WebSocket connection failed for host: ".concat(qs(this.url))));return this.events.emit("register_error",t),t}};var Zs=Object.defineProperty,Js=Object.defineProperties,Xs=Object.getOwnPropertyDescriptors,$s=Object.getOwnPropertySymbols,Qs=Object.prototype.hasOwnProperty,ea=Object.prototype.propertyIsEnumerable,ta=(e,t,r)=>t in e?Zs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ra=(e,t)=>{for(var r in t||(t={}))Qs.call(t,r)&&ta(e,r,t[r]);if($s)for(var r of $s(t))ea.call(t,r)&&ta(e,r,t[r]);return e},na=(e,t)=>Js(e,Xs(t));const oa={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class ia{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.url=e,this.disableProviderPing=t,this.events=new o.e.EventEmitter,this.isAvailable=!1,this.registering=!1,!ks(e))throw new Error("Provided URL is not compatible with HTTP connection: ".concat(e));this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const t=de(e),r=await(await(0,s.o)(this.url,na(ra({},oa),{body:t}))).json();this.onPayload({data:r})}catch(t){this.onError(e.id,t)}}async register(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!ks(e))throw new Error("Provided URL is not compatible with HTTP connection: ".concat(e));if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return t(new Error("HTTP connection is missing or invalid"));e()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=de({id:1,jsonrpc:"2.0",method:"test",params:[]});await(0,s.o)(e,na(ra({},oa),{body:t}))}this.onOpen()}catch(t){const e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?he(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const r=this.parseError(t),n=js(e,r.message||r.toString());this.events.emit("payload",n)}parseError(e){return bs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}}}]);
//# sourceMappingURL=5339.6a1bc424.chunk.js.map